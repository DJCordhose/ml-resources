<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=yes">

	<title>Booster 2023 - Software Architecture</title>

	<link rel="stylesheet" href="reveal.js/dist/reset.css">
	<link rel="stylesheet" href="reveal.js/dist/reveal.css">
	<!-- <link rel="stylesheet" href="reveal.js/dist/theme/black.css"> -->
	<link rel="stylesheet" href="reveal.js/dist/theme/white.css">

	<!-- Theme used for syntax highlighted code -->
	<!-- <link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css"> -->
	<link rel="stylesheet" href="reveal.js/plugin/highlight/zenburn.css">
	<style>
		.right-img {
			margin-left: 10px !important;
			float: right;
			height: 500px;
		}

		.todo:before {
			content: 'TODO: ';
		}

		.todo {
			color: red !important;
		}

		code span.line-number {
			color: lightcoral;
		}

		.reveal pre code {
			max-height: 1000px !important;
		}

		img {
			border: 0 !important;
			box-shadow: 0 0 0 0 !important;
			height: 450px;
		}

		.reveal {
			-ms-touch-action: auto !important;
			touch-action: auto !important;
		}

		.reveal h1,
		.reveal h2,
		.reveal h3,
		.reveal h4 {
			/* letter-spacing: 2px; */
			font-family: 'Calibri', sans-serif;
			/* font-family: 'Times New Roman', Times, serif; */
			/* font-weight: bold; */
			color: black;
			/* font-style: italic; */
			/* letter-spacing: -2px; */
			text-transform: none !important;
		}

		.reveal em {
			font-weight: bold;
		}

		.reveal section img {
			background: none;
		}

		.reveal img.with-border {
			border: 1px solid #586e75 !important;
			box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
		}

		.reveal li {
			margin-bottom: 8px;
		}

		/* For li's that use FontAwesome icons as bullet-point */
		.reveal ul.fa-ul li {
			list-style-type: none;
		}

		.reveal {
			/* font-family: 'Work Sans', 'Calibri'; */
			font-family: 'Calibri';
			color: black !important;
			font-size: xx-large;
		}

		.container {
			display: flex;
		}

		.col img {
			height: auto;
		}

		.col,
		col-1 {
			flex: 1;
		}

		.col-2 {
			flex: 2;
		}

	</style>

</head>

<body style="background-color: whitesmoke;">
	<div class="reveal">
		<div class="slides">
<!-- 
Workshop (1.5 hours)

Within the community of coders “being an architect” or “doing architecture” is often looked down upon. When referring to
architecture we often mean drawings of boxes and arrows that are pointless and have not relation to what is really being
done.

However, architecture can also be defined as the important decision, whatever they are
(https://martinfowler.com/architecture/). There always are important decisions and the code only contains the how and
not the why. Such decisions often have to be made early in a project, require compromise and if being bad have the
potential to make the project fail.

In this workshop we will look at the important decisions of projects, how to identify and justify then. This is
independent of any technology or approach. We will also discuss how to document those decisions, so people actually
trust them to be relevant and up to date.

There will be exercises on paper to be solved in teams.

-->




<!-- <section data-markdown class="preparation">
	<textarea data-template>
- Hausmeister-Kittel blau / grau
- Metal T-Shirt
- Badehose		
	</textarea>
</section>



<section data-markdown class="todo">
	<textarea data-template>
- Übung einmal durchspielen
  - Versteht man das so überhaupt?
	</textarea>
</section> -->


<section data-markdown>
	<textarea data-template>
# Software Architecture is not a swearword

Oliver Zeigermann

https://2023.boosterconf.no/program/wednesday/9_short_talks_and_workshops/kongesal_5/28-software-architecture-is-not-a-swearword/

Slides: https://bit.ly/booster-arch-2023

<!-- https://djcordhose.github.io/ml-resources/2023-booster.html -->

<img src="img/architecture/bit.ly_booster-arch-2023.png" style="height: 200px;">

</textarea>
</section>

<!-- 
Reihenfolge
1. Fallbeispiel
    a) Features
    b) Anforderungen, gleiche Begriffe wie auf Zettel
2. Nuggets diskutieren und im Playground illustrieren
   a) Code mit echtem Code-Beispiel: Wenn tiefer nicht mehr Wartbar und von Hand schreibbar
   b) Decision Tree
   c) K-Nearest Neighbors
   d) Deep Learning
4. Die Leute machen die Aufgabe und dokumentieren   
3. Challenges: Typical things happening in production

Dann den Auswertungsteil und diskutieren -->

<section data-markdown>
	<textarea data-template>
### Our Challenge for today: predicting risks

* We do architectural work for a highly innovative car insurance company.
* Unlike other insurance companies, we determine the rate based on the estimated number of accidents per customer.
* Objective: how many accidents will the potential customers have?

<img src='img/pixabay/accident-151668_1280.png' style="height: 230px">
</textarea>
</section>

<section data-markdown>
### Features to draw conclusion from

* driver
  * *training*: 0/1, the driver completed driver training
  * *age*: Age of the driver in years
* vehicle  
  * *emergency_braking*: 0/1, the vehicle has an emergency braking system 
  * *braking_distance*: Braking distance from speed 100
  * *power*: Power in KW
* *miles*: Annual mileage
* to predict
  * *risk_group*: Classification into group based on risk
</section>

<section data-markdown>
	<textarea data-template>
### Requirements for our solution

1. *Accuracy* - should have 80% or more cases correct
1. *Explainability* - we need to explain how we come to the conclusion
1. *Stability* - an updated version of the software must be possible should not behave totally different
1. *Hackability* - it should be hard to find out how the software works to resist manipulation
1. *Ressources* - should scale well and not use a lot of resources to run

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Classic Solution: Code


```
if training: 
    return LOW_RISK
if age < 30:
    if power > 130:
        return HIGH_RISK
    else:
        return MEDIUM_RISK
if age > 50:
    return HIGH_RISK
if emergency_braking:
    return LOW_RISK
if milage > 50:
    return HIGH_RISK
if milage > 30:
    return MEDIUM_RISK
# default
return LOW_RISK
```

if you want this maintainable, you can not make this too complex or too nested
</textarea>
</section>


<section data-markdown>
	<textarea data-template>
### There are options, though

<img src="exercise/solutions.png">

https://ml-playground.com

Notes:
a) Code mit echtem Code-Beispiel: Wenn tiefer nicht mehr Wartbar und von Hand schreibbar
b) Decision Tree
c) K-Nearest Neighbors
d) Deep Learning
	</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Hands-On: Choose a suitable solution

### 45 Minutes
<div class="container">
	<div class="col">

### Decide
_Choices to make_
1. Code or Data Driven
1. If data driven, which ML approach?
1. Experiment with the playground if needed
1. Ask Olli if you need further information

	</div>
	<div class="col">
		
### Document
_Document your decision_
- Assumptions
- Compromises
- Inferred priorities
- etc.

Choose whatever form you see fit for documentation
			</div>

</div>

*Pair up in teams of at least two and at most four people*

	</textarea>
</section>

<section data-markdown class="fragments">
	<textarea data-template>
### Reflection

1. What kind of documentation did you write?
   * Did you feel comfortable with the form chosen?
   * Did you really have a choice?
1. How did you feel wile making your decision?
   * Did you feel stressed? What stressed you out?
   * Did you feel up to the task of making a choice in the first place?
   * Who was lacking deeper technical insights?
   * Who wanted more emotional support?
	</textarea>
</section>

<section data-markdown class="fragments">
	<textarea data-template>
### Challenges: Typical things happening in production

1. Smartass Lawyer Attack
   * can you explain your decision?
1. price comparison service tries to outsmart you
   * are you prone to adversarial attacks 
1. Drift
   * driver assistance becomes prevalent - prediction of risk no longer valid
   * are you able to create a stable new model
1. Investigative Journalism
   * there might be systematic age bias

_How would they affect your decision?_
  - Does the documentation help?
  - What assumptions have been invalidated?

	</textarea>
</section>

<section data-markdown>
	<textarea data-template>
# But
## How is this related to software architecture?
</textarea>
</section>

<section data-markdown class="fragments">
### (Software) Architecture

* the important decisions, whatever they are
  * once taken they are often hard to change
  * often have to be made early in a project
  * require compromise
  * if being bad have the potential to make the project fail
* there always are important decisions
  * if you don't choose explicitly, there always is on implicit choice

_there are other definitions, but this is the definition we use today_

https://martinfowler.com/architecture
</section>

<section data-markdown class="fragments">
### Architectural Work

_under high uncertainty and imperfect information ..._
1. find areas of important decisions (often solely based on experience and gut feeling)
1. match
   * (partially contradicting and incomplete or even only implicit) requirements - given by domain expert role - with
   * (vague) properties of (a mostly arbitrary selection of) architectural patterns / frameworks - given by technical expert role
   * while inferring priorities (because no one wants to give them) by making assumptions
</section>

<section data-markdown>
	<textarea data-template>
### Some areas of important technical decisions in a business app

<img src="img/architecture/areas.jpg">

_We leave out the areas of people and administration for today (even though they are at least as important)_
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Today we deal with business logic

<img src="img/architecture/logic.jpg">

_Might not be obvious, but is can be an architectural decision_
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Why document?

1. Making things explicit
   * making sure proper reasoning has been done in the first place
   * provide a basis for discussion
1. Reference
   * something used by developer roles to actually make the software
   * for people coming back into the project at a later point
   * having your back
1. Requirements change or get more obvious and explicit over time - we can not look into the future
   * If this happens do we know what decision we took based on what perceived requirement and assumption?

_most of this gets invalidated when documentation is dishonest_   
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### What to document?

<img src="img/architecture/docs.jpg">

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### How to document?

<img src="img/architecture/lightweight-docs.jpg">

Don't make it a legal text - unless you really have to

</textarea>
</section>

<section data-markdown class="fragments">
	<textarea data-template>
### Conclusion

*Architecture can be defined as the sum of important decisions, but*

<img src="img/architecture/conclusion.jpg">


	</textarea>
</section>

<section data-markdown>
	<textarea data-template>
# Thanks a lot
## Software Architecture is not a swearword

Stay in Contact

https://www.linkedin.com/in/oliver-zeigermann-34989773/

oliver@zeigermann.de

Twitter: @DJCordhose

Slides: https://bit.ly/booster-arch-2023
</textarea>
</section>
		</div>
	</div>

	<script src="reveal.js/dist/reveal.js"></script>
	<script src="lib/jquery.js"></script>
	<script>
		const printMode = window.location.search.match(/print-pdf/gi);
		const isLocal = window.location.hostname.indexOf('localhost') !== -1 ||
			window.location.hostname.indexOf('127.0.0.1') !== -1;
		const isPresentation = isLocal && !printMode;
		const isPublic = !isPresentation;

		$('.hide').remove();

		if (isPresentation) {
		} else {
			// only applies to public version
			$('.todo').remove();
			$('.preparation').remove();
			$('.local').remove();
		}

		Reveal.addEventListener('ready', function (event) {
			// applies to all versions
			$('code').addClass('line-numbers');

			$('.fragments li').addClass('fragment')

			// make all links open in new tab
			$('a').attr('target', '_blank')

			if (isPresentation) {
				// only applies to presentation version
				Reveal.configure({ controls: false });
			} else {
				// only applies to public version
				$('.fragment').removeClass('fragment');
			}

			// we do not like fragments
			// $('.fragment').removeClass('fragment');

		});

	</script>

	<script src="reveal.js/plugin/notes/notes.js"></script>
	<script src="reveal.js/plugin/markdown/markdown.js"></script>
	<script src="reveal.js/plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
			controls: true,
			progress: true,
			history: true,
			center: true,
			width: 1100,
			slideNumber: true,
			hideInactiveCursor: false,
			transition: 'none', // none/fade/slide/convex/concave/zoom


			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>


</body>

</html>