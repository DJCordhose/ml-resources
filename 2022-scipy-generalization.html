<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=yes">

	<title>Generalization</title>

	<link rel="stylesheet" href="reveal.js/dist/reset.css">
	<link rel="stylesheet" href="reveal.js/dist/reveal.css">
	<!-- <link rel="stylesheet" href="reveal.js/dist/theme/black.css"> -->
	<link rel="stylesheet" href="reveal.js/dist/theme/white.css">

	<!-- Theme used for syntax highlighted code -->
	<!-- <link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css"> -->
	<link rel="stylesheet" href="reveal.js/plugin/highlight/zenburn.css">
	<style>
		.right-img {
			margin-left: 10px !important;
			float: right;
			height: 500px;
		}

		.todo:before {
			content: 'TODO: ';
		}

		.todo {
			color: red !important;
		}

		code span.line-number {
			color: lightcoral;
		}

		.reveal pre code {
			max-height: 1000px !important;
		}

		img {
			border: 0 !important;
			box-shadow: 0 0 0 0 !important;
			height: 650px;
		}

		.reveal {
			-ms-touch-action: auto !important;
			touch-action: auto !important;
		}

		.reveal h1,
		.reveal h2,
		.reveal h3,
		.reveal h4 {
			/* letter-spacing: 2px; */
			font-family: 'Calibri', sans-serif;
			/* font-family: 'Times New Roman', Times, serif; */
			/* font-weight: bold; */
			color: black;
			/* font-style: italic; */
			/* letter-spacing: -2px; */
			text-transform: none !important;
		}

		.reveal em {
			font-weight: bold;
		}

		.reveal section img {
			background: none;
		}

		.reveal img.with-border {
			border: 1px solid #586e75 !important;
			box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
		}

		.reveal li {
			margin-bottom: 8px;
		}

		/* For li's that use FontAwesome icons as bullet-point */
		.reveal ul.fa-ul li {
			list-style-type: none;
		}

		.reveal {
			/* font-family: 'Work Sans', 'Calibri'; */
			font-family: 'Calibri';
			color: black !important;
			font-size: xx-large;
		}

		.container {
			display: flex;
		}

		.col,
		col-1 {
			flex: 1;
		}

		.col-2 {
			flex: 2;
		}
	</style>

</head>

<body style="background-color: whitesmoke;">
	<div class="reveal">
		<div class="slides">

<!-- <section data-markdown class="todo">
	<textarea data-template>
### Größe Checken		
			https://twitter.com/DanielBolnick/status/1525538863783067651?s=20&t=5rfXahD1-NsTuU785S1lpw
		</textarea>
	</section> -->
	
			<section data-markdown>
				<textarea data-template>
# The Quest for Generalization

Oliver Zeigermann

    </textarea>
			</section>

<section data-markdown>
	<textarea data-template>
### Who likes Squirrels?		

<img src="data/squirrels/2022/ut-couple-clipped.jpg" style="height: 600px;">		

</textarea>
</section>



<section data-markdown>
	<textarea data-template>
### Can I neural network trained on images of the physical world make sense of a comic figure?

Because: Kids can!

<img src="data/squirrels/validation/335/emoji.png" style="height: 300px">

Kudos to Daan van Berkel for motivating the question https://twitter.com/DJCordhose/status/1508019125800652807

</textarea>
</section>



<section data-markdown class="hide">
	<textarea data-template>
## This can certainly just be done with a standard architecture trained on standard dataset!

* Contains the category 'fox_squirrel': http://image-net.org/
* Our architecture, ResNet: https://arxiv.org/abs/1603.05027
<!-- * Our architecture, Xception: https://arxiv.org/abs/1610.02357 -->
<!-- * Model prebuilt and pretrained in Keras: https://keras.io/api/applications/xception/ -->
* Model prebuilt and pretrained in Keras: https://keras.io/api/applications/resnet/#resnet50v2-function
* The code: https://github.com/DJCordhose/ml-resources/blob/main/notebooks/image/generalization.ipynb


</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Results: ResNet 50 V2 trained on ImageNet

<div class="container">
<div class="col">
<img src="data/squirrels/validation/335/emoji.png" style="height:400px;">

</div>		

<div class="col">
<br>
<br>
<br>

<h2 class="fragments">

1. 'tree_frog': 68%, 
1. 'tailed_frog': 8%
1. 'comic_book', 5%
</h2>
</div>		
</div>

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
# Results aren't great

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
# Approach: Fine tune on more images

## New ones taken this past weekend
</textarea>
</section>


<!-- <section data-markdown>
	<textarea data-template>
## Coming back to the Austin Squirrel

After the 2017 friends kept collecting variations of squirrels, so we have a stash to base our training on

<img src="data/squirrels/monster/austin2.jpg" style="height: 400px">

https://djcordhose.github.io/ai/2017_scipy_cnn_introspection.html#/
</textarea>
</section> -->

<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/austin-close.jpg">		

</textarea>
</section>

<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/austin-bum.jpg">		

</textarea>
</section>

<!-- <section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/austin-blurred.jpg">		

</textarea>
</section>
 -->
<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/austin-drinking.jpg">		

</textarea>
</section>

<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/austin-through-legs.jpg">		

</textarea>
</section>

<!-- <section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/ut.jpg">		

</textarea>
</section>
 -->
<!-- <section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/ut-couple.jpg">		

</textarea>
</section>
 -->
<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/austin-shadow.jpg">		

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### 10 Epochs, 10 Images, Learning Rate 0.00004, 15 secs on CPU

<img src="img/emoji-training.png" style="height: 600px">		

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Results: ResNet 50 V2 after retraining on the Austin Squirrel

<div class="container">
<div class="col">
<img src="data/squirrels/validation/335/emoji.png" style="height:400px;">

</div>		

<div class="col">
<br>
<br>
<br>

<h2 class="fragments">

1. 'fox_squirrel': 35%, 
1. 'tree_frog': 11%	
1. 'muzzle', 6%
</h2>
</div>		
</div>

</textarea>
</section>

<!-- <section data-markdown>
	<textarea data-template>
# Oh, you are just overfitting!!11!		
	</textarea>
</section> -->

<section data-markdown>
	<textarea data-template>
<img src="img/Alibi_Explain_Logo_rgb.png" style="height:400px;">

https://docs.seldon.io/projects/alibi/en/stable/methods/Anchors.html#Images		

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
<img src="img/alibi-anchor-squirrel.png" style="height:400px;">		

</textarea>
</section>

<!-- <section data-markdown>
	<textarea data-template>
# Oh, you just made the net see squirrels everwhere!!11!		
	</textarea>
</section> -->


<section data-markdown>
	<textarea data-template>
<img src="img/alibi-anchor-cat.png" style="height:400px;">		

Egyptian_cat: 93%
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
# It is not flawless, though		
	</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Recall: We still don't find enough squirrels		

<div class="container">
<div class="col">
<img src="img/alibi-anchor-comic.png" style="height:250px;">

</div>		

<div class="col">
<br>

<h2 class="fragments">

1. 'comic_book': 96%, 
1. 'book_jacket': 1%	
1. 'envelope', .1%
</h2>
</div>		
</div>
</textarea>
</section>

<!-- <section data-markdown>
	<textarea data-template>
## And too many at the some time

<div class="container">
<div class="col">
<img src="img/alibi-anchor-beaver.png" style="height:250px;">

</div>		

<div class="col">
<br>

<h2 class="fragments">

1. 'fox_squirrel': 62%, 
1. 'beaver': 10%	
1. 'patas', 2%
</h2>
</div>		
</div>
</textarea>
</section> -->

<section data-markdown>
	<textarea data-template>
## Precision: And too many at the same time

<div class="container">
<div class="col">
<img src="img/alibi-anchor-mouse.png" style="height:250px;">

</div>		

<div class="col">
<br>

<h2 class="fragments">

1. 'fox_squirrel': 36%, 
1. 'nipple': 16%	
1. 'comic_book', 5%
</h2>
</div>		
</div>
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## How about this?		
# DALL-E: A chubby green squirrel on the moon

https://labs.openai.com/

</textarea>
</section>

<!-- <section data-markdown>
	<textarea data-template>
### DALL-E: A chubby green squirrel on the moon

<img src="data/squirrels/2022/DALL-E-squirrels.png" style="height: 500px">
<br>

<small>

https://labs.openai.com/

</small>

</textarea>
</section>
 -->

<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/DALL·E 2022-07-12 13.55.34 - A chubby green squirrel on the moon.png">		

</textarea>
</section>

<section data-markdown>
	<textarea data-template>

<img src="data/squirrels/2022/DALL·E 2022-07-12 13.59.26 - A chubby green squirrel on the moon.png">		

</textarea>
</section>


<!-- <section data-markdown>
	<textarea data-template>
# How to improve results

* Try better training set (e.g. more images) 
* Try better validation set (including other classes than squirrels)
* Train classifier part only (or final layers of CNN part)
* Make noses less pink and see if network sill thinks this is a nipple

## Your idea here

</textarea>
</section> -->

			<section data-markdown>
				<textarea data-template>
# Thanks to me about ideas

## The Quest for Generalization

Oliver Zeigermann

<!-- https://www.linkedin.com/in/oliver-zeigermann-34989773/

oliver@zeigermann.de

https://twitter.com/DJCordhose

Slides: https://djcordhose.github.io/ml-resources/2022-scipy-generalization.html -->

    </textarea>
			</section>


		</div>
	</div>

	<script src="reveal.js/dist/reveal.js"></script>
	<script src="lib/jquery.js"></script>
	<script>
		const printMode = window.location.search.match(/print-pdf/gi);
		const isLocal = window.location.hostname.indexOf('localhost') !== -1 ||
			window.location.hostname.indexOf('127.0.0.1') !== -1;
		const isPresentation = isLocal && !printMode;
		const isPublic = !isPresentation;

		$('.hide').remove();

		if (isPresentation) {
		} else {
			// only applies to public version
			$('.todo').remove();
			$('.preparation').remove();
			$('.local').remove();
		}

		Reveal.addEventListener('ready', function (event) {
			// applies to all versions
			$('code').addClass('line-numbers');

			$('.fragments li').addClass('fragment')

			// make all links open in new tab
			$('a').attr('target', '_blank')

			if (isPresentation) {
				// only applies to presentation version
				Reveal.configure({ controls: false });
			} else {
				// only applies to public version
				$('.fragment').removeClass('fragment');
			}

			// we do not like fragments
			// $('.fragment').removeClass('fragment');

		});

	</script>

	<script src="reveal.js/plugin/notes/notes.js"></script>
	<script src="reveal.js/plugin/markdown/markdown.js"></script>
	<script src="reveal.js/plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
			controls: true,
			progress: true,
			history: true,
			center: true,
			width: 1100,
			slideNumber: true,
			hideInactiveCursor: false,


			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>


</body>

</html>